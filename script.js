let woorde = {
  maande: {
    january: "januarie",
    february: "februarie",
    march: "maart",
    april: "april",
    may: "mei",
    june: "junie",
    july: "julie",
    august: "augustus",
    september: "september",
    october: "oktober",
    november: "november",
    december: "desember",
  },
  dae: {
    sunday: "sondag",
    monday: "maandag",
    tuesday: "dinsdag",
    wednesday: "wensdag",
    thursday: "donderdag",
    friday: "vrydag",
    saturday: "saterdag",
    spring: "lente",
    summer: "sommer",
    autumn: "herfs",
    winter: "winter",
  },
  tye: {
    afternoon: "middag",
    day: "dag",
    evening: "aand",
    "last week": "verlede week",
    midday: "middag",
    midnight: "middernag",
    morning: "oggend",
    "next week": "aanstaande week",
    night: "nag",
    sunrise: "sonop",
    sunset: "sonsondergang",
    today: "vandag",
    tomorrow: "more",
    yesterday: "gister",
    weekend: "naweek",
    breakfast: "ontbyt",
    lunch: "middagete",
    dinner: "aandete",
    "tea-time": "teetyd",
    snack: "peuselhappie",
    cocktails: "skemerkelkie",
  },
  kleure: {
    beige: "beige",
    black: "swart",
    blue: "blou",
    brown: "bruin",
    cream: "room",
    "dark ...": "donker ...",
    gold: "goud",
    green: "groen",
    grey: "grys",
    "light ...": "lig ...",
    maroon: "bruinrooi",
    "navy blue": "donkerblou",
    orange: "oranje",
    pink: "pienk",
    purple: "pers",
    red: "rooi",
    silver: "silwer",
    white: "wit",
    yellow: "geel",
  },
  familielede: {
    aunt: "tante",
    brother: "broer",
    "brother-in-law": "swaer",
    "male cousin": "neef",
    "female cousin": "niggie",
    daughter: "dogter",
    father: "pa",
    "father-in-law": "skoonpa",
    godfather: "peetvader",
    godmother: "peetmoeder",
    grandfather: "oupa",
    grandmother: "ouma",
    grandparents: "grootouers",
    mother: "ma",
    "mother-in-law": "skoonma",
    nephew: "neef",
    niece: "niggie",
    parents: "ouers",
    sister: "suster",
    "sister-in-law": "skoonsuster",
    son: "seun",
    stepdaughter: "stiefdogter",
    stepfather: "stiefvader",
    stepmother: "stiefmoeder",
    stepson: "stiefseun",
    uncle: "oom",
  },
  kamers: {
    attic: "solder",
    balcony: "balkon",
    basement: "kelder",
    bathroom: "badkamer",
    bedroom: "slaapkamer",
    "dining room": "eetkamer",
    "entrance hall": "portaal",
    "family room": "gesinskamer",
    garage: "motorhuis",
    kitchen: "kombuis",
    lounge: "sitkamer",
    pantry: "spens",
    passage: "gang",
    "spare room": "gastekamer",
    study: "studeerkamer",
    toilet: "toilet",
    verander: "stoep",
  },
  meubels: {
    "arm chair": "leunstoel",
    bed: "bed",
    "bedroom suite": "slaapkamer stel",
    carpet: "tapyt",
    chair: "stoel",
    couch: "bank",
    desk: "lessenaar",
    "diningroom suite": "eetkamerstel",
    "lounge suite": "sitkamerstel",
    paintings: "skilderye",
    pictures: "prente",
    table: "tafel",
  },
  toestelle: {
    "alarm clock": "wekker",
    cellphone: "selfoon",
    freezer: "vrieskas",
    fridge: "yskas",
    "hair dryer": "haardroer",
    iron: "strykyster",
    kettle: "ketel",
    "microwave oven": "mikrogolfoond",
    razor: "skeermes",
    stove: "stoof",
    television: "televisie",
    toaster: "broodrooster",
    "vacuum cleaner": "stofsuier",
    "washing machine": "wasmasjien",
  },
  "huishoudelike items": {
    blankets: "komberse",
    crockery: "breekgoed",
    cups: "koppies",
    curtains: "gordyne",
    cutlery: "eetgerei",
    forks: "vurke",
    glasses: "glase",
    knives: "messe",
    lamp: "lamp",
    pillows: "kussings",
    plates: "borde",
    saucers: "pierings",
    sheets: "lakens",
    spoons: "lepels",
    teaspoons: "teelepels",
    towels: "handdoeke",
  },
  klere: {
    belt: "gordel",
    blouse: "bloes",
    boots: "stewels",
    cap: "pet",
    coat: "jas",
    dress: "rok",
    "dressing gown": "kamerjas",
    "evening wear": "aanddrag",
    gloves: "handskoene",
    handbag: "handsak",
    handkerchief: "sakdoek",
    hat: "hoed",
    jacket: "baadjie",
    jersey: "trui",
    nightdress: "nagrok",
    pantiehose: "kousbroekie",
    pyjamas: "nagklere",
    raincoat: "reenjas",
    sandals: "sandale",
    shirt: "hemp",
    shoes: "skoene",
    shorts: "kortbroek",
    skirt: "romp",
    socks: "kouse",
    suit: "n pak klere",
    scarf: "serp",
    sunglasses: "sonbril",
    "swimming costume": "swembroek",
    takkies: "tekkies",
    tie: "das",
    tracksuit: "sweetpak",
    umbrella: "sambreel",
    underpants: "onderbroek",
  },
  werkwoorde: {
    accept: "aanvaar",
    achieve: "bereik",
    act: "gedra",
    admit: "erken",
    affect: "beinvloed",
    afford: "bekostig",
    agree: "stem saam",
    answer: "antwoord",
    argue: "stry",
    attach: "haak aan",
    allow: "laat toe",
    arrive: "arriveer",
    ask: "vra",
    avoid: "vermy",
    become: "word",
    begin: "begin",
    believe: "glo",
    break: "breek",
    call: "roep/bel/oproep",
    can: "kan",
    care: "gee om",
    carry: "dra",
    change: "verander",
    compare: "vergelyk",
    concern: "bekommer",
    consider: "oorweeg",
    contribute: "dra by",
    cook: "kook",
    correct: "korrigeer",
    create: "skep/maak",
    cut: "sny",
    choose: "kies",
    clean: "maak skoon",
    climb: "klim",
    close: "maak toe",
    collect: "versamel",
    complain: "kla",
    confirm: "bevestig",
    continue: "gaan aan",
    control: "beheer",
    could: "kon",
    count: "tel",
    cry: "huil",
    damage: "beskadig",
    dance: "dans",
    decide: "besluit",
    deliver: "lewer af",
    deny: "ontken",
    depend: "hang af",
    describe: "beskryf",
    design: "ontwerp",
    destroy: "vernietig",
    develop: "ontwerp",
    die: "sterf",
    disappear: "verdwyn",
    discover: "ontdek",
    discuss: "bespreek",
    divide: "verdeel",
    do: "doen",
    draw: "teken",
    dress: "trek aan",
    drink: "drink",
    drive: "bestuur",
    drop: "laat val",
    eat: "eet",
    encourage: "moedig aan",
    end: "einde",
    enjoy: "geniet",
    examine: "bestudeer",
    expect: "verwag",
    experience: "ervaar",
    explain: "verduidelik",
    express: "druk uit",
  },
  juweliersware: {
    bracelet: "armband",
    brooch: "borsspeld",
    chain: "ketting",
    "engagement ring": "verloofring",
    locket: "hangertjie",
    necklace: "halssnoer",
    pearls: "perels",
    rings: "ringe",
    watch: "horlosie",
    glasses: "brille",
  },
};

const jsString = JSON.stringify(woorde);
const jsObj = JSON.parse(jsString);

topics = Object.keys(jsObj);
topicsDict = Object.values(jsObj);

topicsSet = new Set(topics);

topicsStr = "";
for (let t = 0; t < topics.length - 1; t++) {
  topicsStr = topicsStr.concat(topics[t], ", ");
}

topicsStr = topicsStr.slice(0, -2).concat(" en ", topics.at(-1))

topicsDialog = "Die vakke wat ek ken is ".concat(
  topicsStr,
  ". *** Tik my as jy wil hÃª die musiek moet stop! ***"
);

function stopMusic() {
  document.getElementById("sad_theme").pause();
}

let initialDialog = 0;
let quNumber = 0;
let answerGiven = 0;
let quAsked = 0;
let wrapUp = 0;
let correctQu = 0;

function shuffleArray(array) {
  for (var i = array.length - 1; i > 0; i--) {
    var j = Math.floor(Math.random() * (i + 1));
    var temp = array[i];
    array[i] = array[j];
    array[j] = temp;
  }
  return array;
}

function next() {
  studentAnswer = document
    .getElementById("studentAnswer")
    .value.toLowerCase()
    .trim();

  if (quAsked < 10) {
    if (initialDialog == 0) {
      if (topicsSet.has(studentAnswer)) {
        topicsIndex = topics.indexOf(studentAnswer);
        tgtDict = topicsDict[topicsIndex];

        initialDialog += 1;

        tgtKeys = Object.keys(tgtDict);
        shuffleTgtArray = shuffleArray(tgtKeys).slice(0, 10);

        teacherQu = "Die Engelse word is '".concat(
          shuffleTgtArray[quNumber],
          "'. Wat beteken dit in Afrikaans?"
        );
        document.getElementById("teacherDialog").innerHTML = teacherQu;

        quNumber += 1;
        answerGiven = 0;
        document.getElementById("enterSound").play();
        document.getElementById("enterSound").volume = 0.1;

        document.getElementById("studentAnswer").value = "";
      } else {
        document.getElementById("teacherDialog").innerHTML = topicsDialog;
        document.getElementById("studentAnswer").value = "";
        document.getElementById("sad_theme").play();
        document.getElementById("sad_theme").volume = 0.2;
      }
    } else {
      if (answerGiven == 1) {
        teacherQu = "Die Engelse word is ... '".concat(
          shuffleTgtArray[quNumber],
          "'"
        );
        document.getElementById("teacherDialog").innerHTML = teacherQu;

        quNumber += 1;
        document.getElementById("studentAnswer").value = "";

        answerGiven = 0;
        document.getElementById("enterSound").play();
        document.getElementById("enterSound").volume = 0.1;
      }
    }
    document.getElementById("teacher").src = "teacher.png";
  } else {
    playerPerc = Math.round((correctQu / 10) * 1000) / 10;
    percDialog = "Ons is klaar. Jou finale punt was ".concat(playerPerc, "%");
    document.getElementById("teacherDialog").innerHTML = percDialog;
    if (playerPerc > 50) {
      document.getElementById("teacher").src = "happy_teacher.gif";
      document.getElementById("clappingSound").play();
      document.getElementById("clappingSound").volume = 0.2;
    } else {
      document.getElementById("teacher").src = "cry_teacher.gif";
      document.getElementById("mewingSound").play();
      document.getElementById("mewingSound").volume = 0.2;
    }
    document.getElementById("quCount").innerHTML =
      "*** Refresh to try again! ***";
  }
}

function check() {
  studentAnswer = document
    .getElementById("studentAnswer")
    .value.toLowerCase()
    .trim();

  if (studentAnswer != "") {
    if (answerGiven == 0) {
      correctAnswer = tgtDict[shuffleTgtArray[quNumber - 1]];
      if (studentAnswer == correctAnswer) {
        quAsked += 1;
        correctQu += 1;
        document.getElementById("correctSound").play();
        document.getElementById("correctSound").volume = 0.2;
        document.getElementById("teacher").src = "happy_teacher_once_off.gif";
        happyDialog = "Baaie mooi! Dit is reg. '".concat(
          correctAnswer,
          "' beteken '",
          shuffleTgtArray[quNumber - 1],
          "' in Engels. Kom ons probeer 'n nogge vraag."
        );
        document.getElementById("teacherDialog").innerHTML = happyDialog;
        document.getElementById("studentAnswer").value = "";
      } else {
        quAsked += 1;
        document.getElementById("wrongSound").play();
        document.getElementById("wrongSound").volume = 0.1;
        document.getElementById("teacher").src = "sad_teacher_once_off.gif";
        sadDialog = "Jammer! Die antwoord was ... '".concat(
          correctAnswer,
          "'. Kom ons probeer 'n nogge vraag."
        );
        document.getElementById("teacherDialog").innerHTML = sadDialog;
        document.getElementById("studentAnswer").value = "";
      }
    }
    answerGiven = 1;
    score = "".concat(quAsked, "/10");
    document.getElementById("quCount").innerHTML = score;
  }
}
